package com.industry.rx_epl.operators.internals;

using com.industry.rx_epl.TimestampedValue;

event TimestampMapper {
	static action add(any value) returns any {
		return TimestampedValue(currentTime, value);
	}
	
	static action update(any value) returns any {
		switch(value) {
			case TimestampedValue: {
				value.timestamp := currentTime;
				return value;
			}
			default: {
				return TimestampedValue(currentTime, value);
			}
		}
	}
}

