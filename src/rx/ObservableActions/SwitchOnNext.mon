package com.industry.rx_epl;

using com.apama.exceptions.Exception;

event SwitchOnNext {
	static action switchMapper(any value) returns IObservable {
		switch(value) {
			case IObservable: {
				return value;
			}
			case ISubject: {
				return value.asIObservable();
			}
			default: {
				throw Exception("Can only switch IObservables, was: " + value.valueToString(), "InvalidArgument");
			}
		}
	}
}